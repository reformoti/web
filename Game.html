<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ö–ª–∏–∫–µ—Ä: –†–µ—Ñ–æ—Ä–º–∞—Ü–∏—è</title>
<style>
*{box-sizing:border-box; -webkit-tap-highlight-color:transparent;}
body{
  margin:0;
  font-family:'Orbitron', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background:#000 url('https://images.wallpaperscraft.ru/image/single/kosmos_zvezdy_tumannost_157030_3840x2400.jpg') center/cover no-repeat fixed;
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:8px;
  transition:background-image 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  overflow-x:hidden;
  touch-action:pan-y;
}
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800&display=swap');

.game-container{
  width:100%;
  max-width:1000px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  position:relative;
  z-index:1;
}

/* –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ */
.sound-toggle {
  position: fixed;
  top: 15px;
  left: 15px;
  background: rgba(25,35,70,0.9);
  border: 2px solid rgba(88, 179, 255, 0.4);
  color: #8bb9ff;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  transition: all 0.3s;
}

.sound-toggle:hover {
  transform: scale(1.1);
  border-color: rgba(88, 179, 255, 0.7);
  color: #b3d4ff;
}

/* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
.top-bar{
  width:100%;
  display:flex;
  justify-content:space-between;
  padding:10px 4px;
  background:rgba(10,15,30,0.95);
  backdrop-filter:blur(15px);
  border-radius:12px;
  border:1px solid rgba(88, 179, 255, 0.25);
  box-shadow:0 6px 20px rgba(0,0,0,0.6),
             inset 0 0 15px rgba(0,150,255,0.05);
  margin-bottom:12px;
}

@media (max-width: 768px) {
  .top-bar{
    flex-direction:column;
    gap:8px;
    padding:12px;
  }
}

.astro-btn{
  background:linear-gradient(145deg, rgba(25,35,70,0.95), rgba(15,25,50,0.95));
  border:none;
  color:#8bb9ff;
  padding:10px 16px;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  font-size:13px;
  font-family:'Orbitron', sans-serif;
  transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  border:1px solid rgba(88, 179, 255, 0.35);
  box-shadow:0 3px 12px rgba(0,0,0,0.4),
             inset 0 0 8px rgba(88, 179, 255, 0.08);
  letter-spacing:0.5px;
  text-transform:uppercase;
  min-height:45px;
  display:flex;
  align-items:center;
  justify-content:center;
  flex:1;
  margin:0 4px;
  touch-action:manipulation;
}

.astro-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 20px rgba(0,100,255,0.4),
             inset 0 0 12px rgba(88, 179, 255, 0.15);
  color:#b3d4ff;
  border-color:rgba(88, 179, 255, 0.5);
}

/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
.stats-container{
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:8px;
  width:100%;
  margin-bottom:12px;
}

.stat-card{
  background:rgba(15,20,40,0.85);
  backdrop-filter:blur(12px);
  padding:12px;
  border-radius:12px;
  border:1px solid rgba(88, 179, 255, 0.2);
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  text-align:center;
  transition:all 0.3s ease;
  min-height:80px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}

.stat-label{
  font-size:11px;
  color:#8bb9ff;
  margin-bottom:5px;
  text-transform:uppercase;
  letter-spacing:0.5px;
  font-weight:500;
}

.stat-value{
  font-size:18px;
  font-weight:800;
  color:#fff;
  font-family:'Orbitron', sans-serif;
  text-shadow:0 0 8px rgba(0,180,255,0.5);
  background:linear-gradient(135deg, #00b4ff, #9d4edd);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}

/* –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –±–ª–æ–∫ */
.main-game-area{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  width:100%;
  padding:16px;
  background:rgba(10,15,30,0.7);
  backdrop-filter:blur(20px);
  border-radius:15px;
  border:1px solid rgba(88, 179, 255, 0.25);
  box-shadow:0 8px 30px rgba(0,0,0,0.7),
             inset 0 0 20px rgba(0,150,255,0.1);
  margin-bottom:12px;
}

.stellar-energy{
  font-size:clamp(16px, 3.5vw, 24px);
  font-weight:800;
  background:linear-gradient(135deg, #00b4ff, #9d4edd, #ff6b6b);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  text-shadow:0 2px 12px rgba(0,180,255,0.4);
  font-family:'Orbitron', sans-serif;
  letter-spacing:1px;
  text-align:center;
  margin:0;
  padding:0 8px;
}

.nova-core-area{
  position:relative;
  margin:12px 0;
  width:100%;
  display:flex;
  justify-content:center;
}

.nova-core{
  width:min(65vw, 250px);
  height:min(65vw, 250px);
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #00b4ff, #4a00e0);
  background-size:cover;
  background-position:center;
  cursor:pointer;
  transition:all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  border:3px solid rgba(88, 179, 255, 0.45);
  box-shadow:0 0 50px rgba(0,180,255,0.6),
             inset 0 0 30px rgba(255,255,255,0.2);
  animation:pulse-glow 4s infinite alternate;
}

@keyframes pulse-glow{
  0%{box-shadow:0 0 40px rgba(0,180,255,0.6), inset 0 0 25px rgba(255,255,255,0.2);}
  100%{box-shadow:0 0 60px rgba(157,78,221,0.7), inset 0 0 40px rgba(255,255,255,0.25);}
}

.nova-core:active{
  transform:scale(0.95);
}

/* –ò–≥—Ä–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */
.game-info{
  display:grid;
  grid-template-columns:repeat(2, 1fr);
  gap:8px;
  width:100%;
  margin-top:12px;
}

.info-item{
  background:rgba(20,25,50,0.75);
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(88, 179, 255, 0.2);
  text-align:center;
  min-height:60px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}

.info-label{
  font-size:11px;
  color:#a0c8ff;
  margin-bottom:3px;
}

.info-value{
  font-size:14px;
  font-weight:700;
  color:#00e0ff;
  font-family:'Orbitron', sans-serif;
  text-shadow:0 0 8px rgba(0,224,255,0.4);
}

/* –ö–Ω–æ–ø–∫–∞ —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ */
.singularity-btn{
  background:linear-gradient(145deg, #9d4edd, #ff6b6b);
  color:white;
  border:none;
  padding:12px 20px;
  border-radius:15px;
  font-size:clamp(13px, 2.8vw, 16px);
  font-weight:800;
  cursor:pointer;
  margin:16px auto;
  display:block;
  transition:all 0.4s;
  font-family:'Orbitron', sans-serif;
  letter-spacing:1px;
  text-transform:uppercase;
  box-shadow:0 8px 25px rgba(157,78,221,0.6);
  border:2px solid rgba(255,255,255,0.25);
  width:100%;
  max-width:350px;
  min-height:55px;
}

.singularity-btn:hover:not(:disabled){
  transform:translateY(-2px);
  box-shadow:0 12px 35px rgba(157,78,221,0.8);
}

.singularity-btn:disabled{
  opacity:0.5;
  cursor:not-allowed;
}

/* –ü–∞–Ω–µ–ª–∏ */
.panel{
  position:fixed;
  top:-100%;
  left:0;
  width:100%;
  height:100vh;
  background:rgba(5,10,25,0.98);
  backdrop-filter:blur(25px);
  transition:top 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  padding:60px 12px 16px;
  overflow-y:auto;
  z-index:1000;
}

.panel.active{
  top:0;
}

.close-panel{
  position:fixed;
  top:12px;
  right:12px;
  background:rgba(255,107,107,0.25);
  border:none;
  color:#ff6b6b;
  width:40px;
  height:40px;
  border-radius:50%;
  font-size:20px;
  cursor:pointer;
  transition:all 0.3s;
  border:2px solid rgba(255,107,107,0.4);
  z-index:1001;
  display:flex;
  align-items:center;
  justify-content:center;
}

.panel-tabs{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin-bottom:16px;
  padding-bottom:12px;
  border-bottom:2px solid rgba(88, 179, 255, 0.25);
  justify-content:center;
}

.tab{
  background:rgba(40,50,100,0.85);
  border:none;
  color:#a0c8ff;
  padding:8px 14px;
  border-radius:10px;
  cursor:pointer;
  font-size:12px;
  font-weight:600;
  transition:all 0.3s;
  border:1px solid rgba(88, 179, 255, 0.25);
  min-width:110px;
  text-align:center;
  flex:1;
  min-height:40px;
}

.tab.active{
  background:linear-gradient(145deg, #4a00e0, #8e2de2);
  color:#fff;
  box-shadow:0 4px 16px rgba(74,0,224,0.6);
  border-color:rgba(142,45,226,0.7);
}

.tab-content{
  display:none;
}

.tab-content.active{
  display:block;
}

/* –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫–∞—á–∫–∏ */
.upgrades-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));
  gap:8px;
  padding:12px;
  max-height:500px;
  overflow-y:auto;
}

.upgrade-btn{
  background:linear-gradient(145deg, rgba(30,40,80,0.95), rgba(20,30,60,0.95));
  border:2px solid rgba(88, 179, 255, 0.3);
  border-radius:12px;
  padding:12px;
  color:#b3d4ff;
  font-family:'Orbitron', sans-serif;
  font-size:11px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.3s;
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:5px;
  min-height:95px;
}

.upgrade-btn:hover:not(:disabled){
  transform:translateY(-2px);
  border-color:rgba(88, 179, 255, 0.5);
}

.upgrade-btn:disabled{
  opacity:0.5;
  cursor:not-allowed;
}

.upgrade-value{
  font-size:16px;
  font-weight:800;
  color:#00e0ff;
  text-shadow:0 0 8px rgba(0,224,255,0.5);
}

.upgrade-price{
  font-size:10px;
  color:#ffd166;
  background:rgba(0,0,0,0.4);
  padding:3px 8px;
  border-radius:12px;
  border:1px solid rgba(255,209,102,0.4);
  text-align:center;
  width:100%;
}

.upgrade-name{
  font-size:9px;
  opacity:0.9;
  text-align:center;
  line-height:1.2;
}

/* –ú–∞–≥–∞–∑–∏–Ω */
.shop-tabs{
  display:flex;
  gap:6px;
  margin-bottom:16px;
  justify-content:center;
  flex-wrap:wrap;
}

.shop-tab{
  background:rgba(40,30,80,0.85);
  border:none;
  color:#d1a5ff;
  padding:8px 16px;
  border-radius:10px;
  cursor:pointer;
  font-size:12px;
  font-weight:600;
  transition:all 0.3s;
  border:2px solid rgba(157,78,221,0.35);
  min-width:130px;
  text-align:center;
}

.shop-tab.active{
  background:linear-gradient(145deg, #9d4edd, #8e2de2);
  color:#fff;
  border-color:rgba(157,78,221,0.7);
}

.shop-container{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));
  gap:10px;
  padding:12px;
  max-height:500px;
  overflow-y:auto;
}

.skin-card{
  background:linear-gradient(145deg, rgba(25,20,50,0.95), rgba(15,10,30,0.95));
  border-radius:12px;
  overflow:hidden;
  transition:all 0.3s;
  border:2px solid rgba(157,78,221,0.35);
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  position:relative;
  cursor:pointer;
  min-height:160px;
}

.skin-card:hover{
  transform:translateY(-3px);
  border-color:rgba(157,78,221,0.6);
}

.skin-image{
  width:100%;
  height:85px;
  object-fit:cover;
  border-bottom:2px solid rgba(157,78,221,0.35);
}

.skin-info{
  padding:8px;
  text-align:center;
}

.skin-name{
  font-size:11px;
  font-weight:600;
  color:#e0c3ff;
  margin-bottom:6px;
  min-height:28px;
  display:flex;
  align-items:center;
  justify-content:center;
  line-height:1.2;
}

.skin-price{
  font-size:12px;
  font-weight:bold;
  color:#ffd166;
  background:rgba(0,0,0,0.5);
  padding:4px 10px;
  border-radius:12px;
  display:inline-block;
  border:1px solid rgba(255,209,102,0.4);
}

.skin-owned-badge{
  position:absolute;
  top:6px;
  right:6px;
  background:#4caf50;
  color:white;
  padding:3px 6px;
  border-radius:10px;
  font-size:10px;
  font-weight:bold;
  z-index:2;
}

/* –ê—á–∏–≤–∫–∏ */
.achievements-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(170px, 1fr));
  gap:10px;
  padding:12px;
  max-height:500px;
  overflow-y:auto;
}

.achievement-card{
  background:linear-gradient(145deg, rgba(30,25,60,0.95), rgba(20,15,40,0.95));
  border-radius:12px;
  padding:12px;
  border:2px solid rgba(255,193,7,0.35);
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  text-align:center;
  transition:all 0.3s;
  position:relative;
  overflow:hidden;
}

.achievement-card.unlocked{
  border-color:#ffc107;
  background:linear-gradient(145deg, rgba(40,35,80,0.95), rgba(30,25,60,0.95));
  animation:achievementUnlock 0.5s ease;
}

@keyframes achievementUnlock {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.achievement-icon{
  font-size:28px;
  margin-bottom:8px;
  color:#ffc107;
}

.achievement-name{
  font-size:13px;
  font-weight:600;
  color:#ffd166;
  margin-bottom:6px;
}

.achievement-desc{
  font-size:10px;
  color:#b3a8ff;
  margin-bottom:8px;
  line-height:1.3;
}

.achievement-reward{
  font-size:11px;
  color:#81c784;
  font-weight:bold;
  background:rgba(27,50,43,0.6);
  padding:4px 8px;
  border-radius:8px;
  display:inline-block;
}

.achievement-progress{
  width:100%;
  height:5px;
  background:rgba(255,255,255,0.1);
  border-radius:3px;
  margin-top:8px;
  overflow:hidden;
}

.achievement-progress-bar{
  height:100%;
  background:linear-gradient(90deg, #4caf50, #81c784);
  border-radius:3px;
  transition:width 0.5s;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞—á–∏–≤–∫–µ */
.achievement-notification {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%) translateY(-100px);
  background: linear-gradient(145deg, rgba(255,193,7,0.95), rgba(255,152,0,0.95));
  color: white;
  padding: 15px 25px;
  border-radius: 15px;
  font-weight: bold;
  font-size: 16px;
  z-index: 9999;
  box-shadow: 0 10px 30px rgba(255,193,7,0.6);
  border: 2px solid rgba(255,255,255,0.3);
  text-align: center;
  min-width: 300px;
  animation: slideDown 3s ease forwards;
}

@keyframes slideDown {
  0% { transform: translateX(-50%) translateY(-100px); opacity: 0; }
  15% { transform: translateX(-50%) translateY(20px); opacity: 1; }
  85% { transform: translateX(-50%) translateY(20px); opacity: 1; }
  100% { transform: translateX(-50%) translateY(-100px); opacity: 0; }
}

/* –ú–µ–Ω—é */
.menu-content{
  max-width:550px;
  margin:0 auto;
  padding:16px;
  text-align:center;
}

.creator-signature{
  font-size:clamp(20px, 4.5vw, 32px);
  font-weight:900;
  background:linear-gradient(135deg, #00b4ff, #9d4edd, #ff6b6b);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  margin-bottom:25px;
  text-shadow:0 0 15px rgba(0,180,255,0.4);
  line-height:1.2;
}

.code-input-container{
  background:rgba(25,35,70,0.85);
  padding:16px;
  border-radius:16px;
  border:2px solid rgba(88, 179, 255, 0.35);
  margin:25px 0;
  box-shadow:0 8px 25px rgba(0,0,0,0.6);
}

.stellar-code-input{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  background:rgba(10,20,40,0.9);
  border:2px solid #00b4ff;
  border-radius:10px;
  color:white;
  font-size:14px;
  font-family:'Orbitron', sans-serif;
  text-align:center;
  letter-spacing:1px;
  min-height:45px;
}

.stellar-activate-btn{
  width:100%;
  padding:14px;
  background:linear-gradient(145deg, #00b4ff, #4a00e0);
  color:white;
  border:none;
  border-radius:10px;
  font-weight:800;
  font-size:14px;
  cursor:pointer;
  transition:all 0.4s;
  font-family:'Orbitron', sans-serif;
  letter-spacing:1px;
  text-transform:uppercase;
  min-height:50px;
}

.stellar-activate-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 25px rgba(0,180,255,0.5);
}

.discord-link{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  background:linear-gradient(145deg, #5865F2, #4752c4);
  color:white;
  padding:14px 25px;
  border-radius:15px;
  text-decoration:none;
  font-weight:800;
  font-size:14px;
  margin-top:20px;
  transition:all 0.4s;
  width:100%;
  max-width:350px;
}

.discord-link:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 30px rgba(88,101,242,0.5);
}

/* –≠—Ñ—Ñ–µ–∫—Ç—ã –∫–ª–∏–∫–æ–≤ */
.quantum-flare{
  position:absolute;
  font-weight:800;
  font-size:16px;
  animation:quantum-float 1s ease forwards;
  pointer-events:none;
  text-shadow:0 0 15px currentColor;
  font-family:'Orbitron', sans-serif;
  z-index:100;
}

@keyframes quantum-float{
  0%{opacity:1;transform:translateY(0) scale(1);}
  100%{opacity:0;transform:translateY(-50px) scale(0.7);}
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .upgrades-grid,
  .shop-container,
  .achievements-grid{
    grid-template-columns:repeat(auto-fill, minmax(130px, 1fr));
    max-height:400px;
  }
  
  .sound-toggle {
    top: 10px;
    left: 10px;
    width: 40px;
    height: 40px;
    font-size: 18px;
  }
}
</style>
</head>
<body>

<button class="sound-toggle" id="soundToggle" onclick="toggleMusic()">‚ô™</button>

<div class="game-container">
  <div class="top-bar">
    <button class="astro-btn" onclick="toggleStellarMenu()">‚ò∞ –°–¢–ê–ù–¶–ò–Ø</button>
    <button class="astro-btn" onclick="toggleQuantumUpgrades()">‚ñ≤ –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–Ø</button>
    <button class="astro-btn" onclick="toggleAchievements()">üèÜ –ê–ß–ò–í–ö–ò</button>
  </div>

  <div class="stats-container">
    <div class="stat-card">
      <div class="stat-label">–≠–ù–ï–†–ì–ò–Ø</div>
      <div class="stat-value" id="stellarEnergy">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">–ü–û–ö–û–õ–ï–ù–ò–ï</div>
      <div class="stat-value" id="quantumGeneration">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">–ú–ù–û–ñ–ò–¢–ï–õ–¨</div>
      <div class="stat-value" id="singularityMulti">√ó1</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">–ë–û–ù–£–° –ê–ß–ò–í–û–ö</div>
      <div class="stat-value" id="achievementsBonusDisplay">√ó1.00</div>
    </div>
  </div>

  <div class="main-game-area">
    <div class="stellar-energy">–≠–ù–ï–†–ì–ò–Ø: <span id="energyDisplay">0</span></div>
    
    <div class="nova-core-area">
      <div class="nova-core" id="novaCore"></div>
    </div>
    
    <div class="game-info">
      <div class="info-item">
        <div class="info-label">–Ø–î–†–û</div>
        <div class="info-value" id="corePower">1</div>
      </div>
      <div class="info-item">
        <div class="info-label">–ê–í–¢–û-–°–ë–û–†</div>
        <div class="info-value" id="autoHarvest">0/—Å–µ–∫</div>
      </div>
      <div class="info-item">
        <div class="info-label">–ú–ù–û–ñ–ò–¢–ï–õ–¨</div>
        <div class="info-value" id="quantumMulti">√ó1</div>
      </div>
      <div class="info-item">
        <div class="info-label">–ò–¢–û–ì</div>
        <div class="info-value" id="totalOutput">√ó1</div>
      </div>
    </div>
    
    <button class="singularity-btn" id="singularityBtn" onclick="quantumSingularity()">
      –°–ò–ù–ì–£–õ–Ø–†–ù–û–°–¢–¨
    </button>
  </div>
</div>

<!-- –ú–µ–Ω—é -->
<div class="panel" id="stellarMenu">
  <button class="close-panel" onclick="toggleStellarMenu()">√ó</button>
  <div class="menu-content">
    <div class="creator-signature">REFORMOTI –°–ò–°–¢–ï–ú–´</div>
    <div class="code-input-container">
      <input type="text" class="stellar-code-input" id="stellarCode" placeholder="–í–í–ï–î–ò–¢–ï –°–ï–ö–†–ï–¢–ù–´–ô –ö–û–î">
      <button class="stellar-activate-btn" onclick="activateStellarCode()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
      <div id="stellarMessage"></div>
    </div>
    <a href="https://discord.gg/8d2RQHvGhH" target="_blank" class="discord-link">üõ∏ DISCORD</a>
  </div>
</div>

<!-- –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ -->
<div class="panel" id="quantumUpgrades">
  <button class="close-panel" onclick="toggleQuantumUpgrades()">√ó</button>
  <div class="panel-tabs">
    <button class="tab active" onclick="openTab('clickTab',this)">‚ö° –Ø–î–†–û (30)</button>
    <button class="tab" onclick="openTab('autoTab',this)">üåÄ –ê–í–¢–û (30)</button>
    <button class="tab" onclick="openTab('multiTab',this)">‚ôæÔ∏è –ú–ù–û–ñ (15)</button>
    <button class="tab" onclick="openTab('shopTab',this)">üõí –ú–ê–ì–ê–ó–ò–ù</button>
  </div>

  <div id="clickTab" class="tab-content active">
    <div class="upgrades-grid" id="clickUpgradesGrid"></div>
  </div>
  
  <div id="autoTab" class="tab-content">
    <div class="upgrades-grid" id="autoUpgradesGrid"></div>
  </div>
  
  <div id="multiTab" class="tab-content">
    <div class="upgrades-grid" id="multiplierGrid"></div>
  </div>
  
  <div id="shopTab" class="tab-content">
    <div class="shop-tabs">
      <button class="shop-tab active" onclick="openShopTab('skinsTab',this)">üåå –°–ö–ò–ù–´ (25)</button>
      <button class="shop-tab" onclick="openShopTab('backgroundsTab',this)">‚ú® –§–û–ù–´ (12)</button>
    </div>
    <div id="skinsTab" class="shop-tab-content active">
      <div class="shop-container" id="skinsGrid"></div>
    </div>
    <div id="backgroundsTab" class="shop-tab-content">
      <div class="shop-container" id="backgroundsGrid"></div>
    </div>
  </div>
</div>

<!-- –ê—á–∏–≤–∫–∏ -->
<div class="panel" id="achievementsPanel">
  <button class="close-panel" onclick="toggleAchievements()">√ó</button>
  <div style="text-align:center; margin-bottom:25px;">
    <div style="font-size:24px; font-weight:800; background:linear-gradient(135deg, #ffc107, #ff9800); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin-bottom:8px;">üèÜ –î–û–°–¢–ò–ñ–ï–ù–ò–Ø</div>
    <div style="color:#a0c8ff; font-size:13px;">–û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã!</div>
    <div style="margin-top:16px; display:flex; justify-content:center; gap:16px; flex-wrap:wrap;">
      <div style="background:rgba(255,193,7,0.1); padding:8px 16px; border-radius:12px; border:1px solid rgba(255,193,7,0.3);">
        <div style="font-size:11px; color:#ffd166;">–û–¢–ö–†–´–¢–û</div>
        <div style="font-size:20px; font-weight:bold; color:#ffc107;" id="achievementsUnlocked">0/25</div>
      </div>
      <div style="background:rgba(0,180,255,0.1); padding:8px 16px; border-radius:12px; border:1px solid rgba(0,180,255,0.3);">
        <div style="font-size:11px; color:#8bb9ff;">–ë–û–ù–£–°</div>
        <div style="font-size:20px; font-weight:bold; color:#00b4ff;" id="achievementsBonus">√ó1.00</div>
      </div>
    </div>
  </div>
  <div class="achievements-grid" id="achievementsGrid"></div>
</div>

<script>
// === –û–°–ù–û–í–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ===
let stellarEnergy = 0;
let corePower = 1;
let autoHarvest = 0;
let quantumMulti = 1;
let quantumGeneration = 0;
let singularityMulti = 1;
let skinBonusMulti = 1;
let stellarCodeUsed = false;
let totalClicks = 0;
let totalAutoEarned = 0;
let totalTimePlayed = 0;
let highestEnergy = 0;
let skinsPurchased = 0;
let backgroundsPurchased = 0;
let consecutiveClicks = 0;
let lastClickTime = 0;
let musicEnabled = true;
let audioContext;
let backgroundMusic;

// –°–∏—Å—Ç–µ–º–∞ –∑–≤—É–∫–∞
function initAudio() {
  try {
    audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç—É—é —Ñ–æ–Ω–æ–≤—É—é –º—É–∑—ã–∫—É (–∫–æ—Å–º–∏—á–µ—Å–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞)
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.type = 'sine';
    oscillator.frequency.setValueAtTime(220, audioContext.currentTime);
    
    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
    
    backgroundMusic = { oscillator, gainNode };
    
    if (musicEnabled) {
      oscillator.start();
    }
    
  } catch (e) {
    console.log('–ê—É–¥–∏–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
  }
}

function toggleMusic() {
  musicEnabled = !musicEnabled;
  const btn = document.getElementById('soundToggle');
  
  if (musicEnabled) {
    btn.innerHTML = '‚ô™';
    btn.style.color = '#8bb9ff';
    if (backgroundMusic && audioContext.state === 'suspended') {
      audioContext.resume();
    }
  } else {
    btn.innerHTML = 'üîá';
    btn.style.color = '#ff6b6b';
    if (backgroundMusic && audioContext.state === 'running') {
      audioContext.suspend();
    }
  }
}

// –£–°–õ–û–ñ–ù–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê
let rebirthCost = 50000000; // –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
let rebirthIncrease = 3.5; // –£—Å–∏–ª–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ–±–∏—Ç—Ö–∞

// –†–ê–°–®–ò–†–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –î–õ–Ø –Ø–î–†–ê (30 —É—Ä–æ–≤–Ω–µ–π)
const clickUpgrades = [
  {id: 'basic', power:2, basePrice:50, name:"–ë–∞–∑–æ–≤—ã–π –∏–º–ø—É–ª—å—Å", count:0},
  {id: 'proton', power:8, basePrice:250, name:"–ü—Ä–æ—Ç–æ–Ω–Ω—ã–π –≤—Å–ø–ª–µ—Å–∫", count:0},
  {id: 'neutron', power:15, basePrice:500, name:"–ù–µ–π—Ç—Ä–æ–Ω–Ω–∞—è –≤–æ–ª–Ω–∞", count:0},
  {id: 'plasma', power:35, basePrice:1250, name:"–ü–ª–∞–∑–º–µ–Ω–Ω—ã–π –≤—ã–±—Ä–æ—Å", count:0},
  {id: 'gravity', power:75, basePrice:2500, name:"–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —É–¥–∞—Ä", count:0},
  {id: 'singular', power:150, basePrice:5000, name:"–°–∏–Ω–≥—É–ª—è—Ä–Ω—ã–π –≤–∑—Ä—ã–≤", count:0},
  {id: 'blackhole', power:300, basePrice:10000, name:"–ß—ë—Ä–Ω–∞—è –¥—ã—Ä–∞", count:0},
  {id: 'quasar', power:600, basePrice:20000, name:"–ö–≤–∞–∑–∞—Ä", count:0},
  {id: 'cluster', power:1200, basePrice:40000, name:"–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Ç–µ—Ä", count:0},
  {id: 'darkmatter', power:2500, basePrice:80000, name:"–¢—ë–º–Ω–∞—è –º–∞—Ç–µ—Ä–∏—è", count:0},
  {id: 'string', power:5000, basePrice:160000, name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–Ω–∞", count:0},
  {id: 'bigbang', power:10000, basePrice:320000, name:"–ë–æ–ª—å—à–æ–π –≤–∑—Ä—ã–≤", count:0},
  {id: 'multiverse1', power:20000, basePrice:640000, name:"–ú—É–ª—å—Ç–∏–≤—Å–µ–ª–µ–Ω–Ω–∞—è I", count:0},
  {id: 'multiverse2', power:40000, basePrice:1280000, name:"–ú—É–ª—å—Ç–∏–≤—Å–µ–ª–µ–Ω–Ω–∞—è II", count:0},
  {id: 'godpower1', power:80000, basePrice:2560000, name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ—â—å I", count:0},
  {id: 'godpower2', power:160000, basePrice:5120000, name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ—â—å II", count:0},
  {id: 'cosmic1', power:320000, basePrice:10240000, name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å–∏–ª–∞ I", count:0},
  {id: 'cosmic2', power:640000, basePrice:20480000, name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∞—è —Å–∏–ª–∞ II", count:0},
  {id: 'infinity1', power:1280000, basePrice:40960000, name:"–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å I", count:0},
  {id: 'infinity2', power:2560000, basePrice:81920000, name:"–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å II", count:0},
  {id: 'absolute1', power:5120000, basePrice:163840000, name:"–ê–±—Å–æ–ª—é—Ç I", count:0},
  {id: 'absolute2', power:10240000, basePrice:327680000, name:"–ê–±—Å–æ–ª—é—Ç II", count:0},
  {id: 'ultimate1', power:20480000, basePrice:655360000, name:"–ê–±—Å–æ–ª—é—Ç–Ω–∞—è —Å–∏–ª–∞ I", count:0},
  {id: 'ultimate2', power:40960000, basePrice:1310720000, name:"–ê–±—Å–æ–ª—é—Ç–Ω–∞—è —Å–∏–ª–∞ II", count:0},
  {id: 'supreme1', power:81920000, basePrice:2621440000, name:"–í–µ—Ä—Ö–æ–≤–Ω–∞—è –º–æ—â—å I", count:0},
  {id: 'supreme2', power:163840000, basePrice:5242880000, name:"–í–µ—Ä—Ö–æ–≤–Ω–∞—è –º–æ—â—å II", count:0},
  {id: 'divine1', power:327680000, basePrice:10485760000, name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–≤–µ—Ç I", count:0},
  {id: 'divine2', power:655360000, basePrice:20971520000, name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–≤–µ—Ç II", count:0},
  {id: 'eternal1', power:1310720000, basePrice:41943040000, name:"–í–µ—á–Ω–æ—Å—Ç—å I", count:0},
  {id: 'eternal2', power:2621440000, basePrice:83886080000, name:"–í–µ—á–Ω–æ—Å—Ç—å II", count:0}
];

// –†–ê–°–®–ò–†–ï–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø –î–õ–Ø –ê–í–¢–û-–°–ë–û–†–ê (30 —É—Ä–æ–≤–Ω–µ–π)
const autoUpgrades = [
  {id: 'solar', power:2, basePrice:75, name:"–°–æ–ª–Ω–µ—á–Ω—ã–π –ø–∞—Ä—É—Å", count:0},
  {id: 'ion', power:5, basePrice:375, name:"–ò–æ–Ω–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'warp', power:10, basePrice:750, name:"–í–∞—Ä–ø-–¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'quantum', power:20, basePrice:1500, name:"–ö–≤–∞–Ω—Ç–æ–≤—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'gravitysail', power:30, basePrice:3000, name:"–ì—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–∞—Ä—É—Å", count:0},
  {id: 'thermo', power:50, basePrice:6000, name:"–¢–µ—Ä–º–æ—è–¥–µ—Ä–Ω—ã–π —Ä–µ–∞–∫—Ç–æ—Ä", count:0},
  {id: 'star', power:80, basePrice:12000, name:"–ó–≤—ë–∑–¥–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'wormhole', power:120, basePrice:24000, name:"–ß–µ—Ä–≤–æ—Ç–æ—á–∏–Ω–∞", count:0},
  {id: 'hyper', power:180, basePrice:48000, name:"–ì–∏–ø–µ—Ä–¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'jump', power:300, basePrice:96000, name:"–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–∞—á–æ–∫", count:0},
  {id: 'timeloop', power:500, basePrice:192000, name:"–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ç–ª—è", count:0},
  {id: 'portal', power:800, basePrice:384000, name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç–∞–ª", count:0},
  {id: 'multiverse', power:1200, basePrice:768000, name:"–ú—É–ª—å—Ç–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–æ—Å—Ç", count:0},
  {id: 'singular', power:2000, basePrice:1536000, name:"–°–∏–Ω–≥—É–ª—è—Ä–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'absolute', power:3000, basePrice:3072000, name:"–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å", count:0},
  {id: 'infinity', power:5000, basePrice:6144000, name:"–î–≤–∏–≥–∞—Ç–µ–ª—å –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏", count:0},
  {id: 'cosmic1', power:8000, basePrice:12288000, name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –º–æ—Ç–æ—Ä I", count:0},
  {id: 'cosmic2', power:12000, basePrice:24576000, name:"–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –º–æ—Ç–æ—Ä II", count:0},
  {id: 'galactic1', power:20000, basePrice:49152000, name:"–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–≤–æ–¥ I", count:0},
  {id: 'galactic2', power:30000, basePrice:98304000, name:"–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–≤–æ–¥ II", count:0},
  {id: 'universal1', power:50000, basePrice:196608000, name:"–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å I", count:0},
  {id: 'universal2', power:80000, basePrice:393216000, name:"–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å II", count:0},
  {id: 'omni1', power:120000, basePrice:786432000, name:"–í—Å–µ–º–æ–≥—É—â–∏–π –º–æ—Ç–æ—Ä I", count:0},
  {id: 'omni2', power:200000, basePrice:1572864000, name:"–í—Å–µ–º–æ–≥—É—â–∏–π –º–æ—Ç–æ—Ä II", count:0},
  {id: 'godly1', power:300000, basePrice:3145728000, name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å I", count:0},
  {id: 'godly2', power:500000, basePrice:6291456000, name:"–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å II", count:0},
  {id: 'eternal1', power:800000, basePrice:12582912000, name:"–í–µ—á–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å I", count:0},
  {id: 'eternal2', power:1200000, basePrice:25165824000, name:"–í–µ—á–Ω—ã–π –¥–≤–∏–≥–∞—Ç–µ–ª—å II", count:0},
  {id: 'ultimate1', power:2000000, basePrice:50331648000, name:"–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –º–æ—Ç–æ—Ä I", count:0},
  {id: 'ultimate2', power:3000000, basePrice:100663296000, name:"–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –º–æ—Ç–æ—Ä II", count:0}
];

// –ú–ù–û–ñ–ò–¢–ï–õ–ò (15 —É—Ä–æ–≤–Ω–µ–π)
const multiplierUpgrades = [
  {id: 'multi1', value:1.15, basePrice:5000, name:"√ó1.15 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi2', value:1.25, basePrice:15000, name:"√ó1.25 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi3', value:1.4, basePrice:45000, name:"√ó1.4 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi4', value:1.6, basePrice:135000, name:"√ó1.6 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi5', value:1.85, basePrice:405000, name:"√ó1.85 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi6', value:2.2, basePrice:1215000, name:"√ó2.2 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi7', value:2.6, basePrice:3645000, name:"√ó2.6 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi8', value:3.1, basePrice:10935000, name:"√ó3.1 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi9', value:3.7, basePrice:32805000, name:"√ó3.7 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi10', value:4.5, basePrice:98415000, name:"√ó4.5 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi11', value:5.5, basePrice:295245000, name:"√ó5.5 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi12', value:6.8, basePrice:885735000, name:"√ó6.8 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi13', value:8.5, basePrice:2657205000, name:"√ó8.5 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi14', value:10.5, basePrice:7971615000, name:"√ó10.5 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0},
  {id: 'multi15', value:13, basePrice:23914845000, name:"√ó13 –ú–Ω–æ–∂–∏—Ç–µ–ª—å", count:0}
];

// –†–ê–°–®–ò–†–ï–ù–ù–´–ï –°–ö–ò–ù–´ (25 —à—Ç—É–∫)
const skins = [
  {name:'–¢—É–º–∞–Ω–Ω–æ—Å—Ç—å –ê–Ω–¥—Ä–æ–º–µ–¥—ã',price:1000,url:'https://wallpaper.forfun.com/fetch/8d/8dbdaf8bd40e873ddb331cad3c246db3.jpeg'},
  {name:'–û–±–ª–∞–∫–æ –°–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏',price:2500,url:'https://media.istockphoto.com/id/1498666644/ru/%D1%84%D0%BE%D1%82%D0%BE/%D0%BE%D0%B1%D0%BB%D0%B0%D0%BA%D0%B0-%D1%87%D0%B5%D1%80%D0%BD%D0%BE%D0%B9-%D0%B4%D1%8B%D1%80%D1%8B-%D0%B2%D1%8B%D1%81%D0%BE%D0%BA%D0%BE%D0%BA%D0%B0%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9-%D1%80%D0%B5%D0%BD%D0%B4%D0%B5%D1%80%D0%B8%D0%BD%D0%B3.jpg?s=612x612&w=0&k=20&c=eDy_UIZjpbHlTQB5ub-WOapfMPEQMiVrUBSRptuR8eA='},
  {name:'–ö–≤–∞–Ω—Ç–æ–≤—ã–π –†–∞–∑–ª–æ–º',price:5000,url:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS0TgYQy6Kacnqz2eG4Kzpb5s3Ih73QeAYi8Q&s'},
  {name:'–≠—Ö–æ –í—Å–µ–ª–µ–Ω–Ω–æ–π',price:8000,url:'https://images.steamusercontent.com/ugc/1675869057985981771/EC21624F70B718E5406F4748BD3DFC1EE4309CB7/?imw=512&imh=512&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=true'},
  {name:'–ß–µ—Ä–µ–ø –ü—É—Å—Ç–æ—Ç—ã',price:15000,url:'https://img.freepik.com/premium-vector/illustration-white-skull-black-background-skull-tattoos-illustration-scarf_15870-787.jpg'},
  {name:'–ö—Ä–∏–∫ –ë–µ–∑–¥–Ω—ã',price:25000,url:'https://img.freepik.com/premium-vector/screaming-skull-vector-black-background_248052-86.jpg'},
  {name:'–¢–µ—Ç—Ä–∞–¥—å –°–º–µ—Ä—Ç–∏',price:40000,url:'https://img.goodfon.ru/wallpaper/big/c/e3/death-note-tetrad-smerti-2436.webp'},
  {name:'–ê—Å—Ç—Ä–∞–ª—å–Ω—ã–π –°–∏–º–≤–æ–ª',price:60000,url:'https://i.pinimg.com/736x/b9/30/ba/b930ba00009244ce23891e5c42e699e9.jpg'},
  {name:'–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –†–∞–∑—Ä—è–¥',price:100000,url:'https://klike.net/uploads/posts/2022-07/1657778940_37.jpg'},
  {name:'–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–π –ò–º–ø—É–ª—å—Å',price:150000,url:'https://zefirka.club/uploads/posts/2023-01/thumbs/1673691446_24-zefirka-club-p-molniya-makvin-na-avu-35.jpg'},
  {name:'–ü–ª–∞–º—è –§–µ–Ω–∏–∫—Å–∞',price:250000,url:'https://cdn.pixabay.com/photo/2016/11/29/05/45/astronomy-1867616_1280.jpg'},
  {name:'–õ–µ–¥—è–Ω–æ–π –ö—Ä–∏—Å—Ç–∞–ª–ª',price:500000,url:'https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_1280.jpg'},
  {name:'–ó–æ–ª–æ—Ç–∞—è –ì–∞–ª–∞–∫—Ç–∏–∫–∞',price:1000000,url:'https://cdn.pixabay.com/photo/2016/10/20/18/35/earth-1756274_1280.jpg'},
  {name:'–ö—Ä–æ–≤–∞–≤–∞—è –õ—É–Ω–∞',price:2000000,url:'https://cdn.pixabay.com/photo/2011/12/14/12/21/orion-nebula-11107_1280.jpg'},
  {name:'–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –©–∏—Ç',price:5000000,url:'https://cdn.pixabay.com/photo/2017/09/12/11/56/universe-2742113_1280.jpg'},
  {name:'–õ–µ–≥–µ–Ω–¥–∞ –†–µ—Ñ–æ—Ä–º–∞—Ç–∏',price:10000000,url:'https://cdn.pixabay.com/photo/2016/11/22/23/44/buildings-1851246_1280.jpg'},
  {name:'–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –í–∏—Ö—Ä—å',price:150000,url:'https://wallpaper.forfun.com/fetch/60/604f6358cd0a4b83989516f724ed8bea.jpeg'},
  {name:'–¢—É–º–∞–Ω–Ω–æ—Å—Ç—å –û—Ä–∏–æ–Ω–∞',price:300000,url:'https://images.alphacoders.com/135/1354208.jpeg'},
  {name:'–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –û–∫–µ–∞–Ω',price:500000,url:'https://images.wallpapershq.com/wallpapers/1284/wallpaper_1284_3840x2160.jpg'},
  {name:'–ê–Ω–∏–º–µ –ü–µ–π–∑–∞–∂',price:750000,url:'https://sotni.ru/wp-content/uploads/2023/08/anime-peizazh-375.webp'},
  {name:'–ê–Ω–∏–º–µ –ó–∞–∫–∞—Ç',price:1000000,url:'https://abrakadabra.fun/uploads/posts/2022-02/1643978194_2-abrakadabra-fun-p-fon-dlya-prevyu-anime-2.jpg'},
  {name:'–¢—ë–º–Ω—ã–π –õ–µ—Å',price:1500000,url:'https://img2.akspic.ru/crops/1/1/7/7/97711/97711-les-chernyj_les-priroda-derevo-solnechnyj_svet-3840x2160.jpg'},
  {name:'–°–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å',price:3000000,url:'https://server.wallpaperalchemy.com/storage/wallpapers/91/4k-black-hole-minimalistic-wallpaper.png'},
  {name:'–ü–ª–∞–Ω–µ—Ç–∞ –ó–µ–º–ª—è',price:5000000,url:'https://img3.akspic.ru/crops/1/9/9/5/25991/25991-zemlya-atmosfera-kosmos-prostranstvo-vselennaya-3840x2160.jpg'},
  {name:'–õ–µ–¥—è–Ω–∞—è –ü–ª–∞–Ω–µ—Ç–∞',price:8000000,url:'https://abrakadabra.fun/uploads/posts/2021-12/1640668539_5-abrakadabra-fun-p-oboi-na-rabochii-stol-planeta-6.png'}
];

// –†–ê–°–®–ò–†–ï–ù–ù–´–ï –§–û–ù–´ (12 —à—Ç—É–∫)
const backgrounds = [
  {name:'–ì–ª—É–±–æ–∫–∏–π –ö–æ—Å–º–æ—Å',price:1500,url:'https://images.wallpaperscraft.ru/image/single/kosmos_zvezdy_tumannost_157030_3840x2400.jpg'},
  {name:'–°–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å',price:4000,url:'https://server.wallpaperalchemy.com/storage/wallpapers/91/4k-black-hole-minimalistic-wallpaper.png'},
  {name:'–ü–ª–∞–Ω–µ—Ç–∞ –ó–µ–º–ª—è',price:7000,url:'https://img3.akspic.ru/crops/1/9/9/5/25991/25991-zemlya-atmosfera-kosmos-prostranstvo-vselennaya-3840x2160.jpg'},
  {name:'–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –í–∏—Ö—Ä—å',price:10000,url:'https://wallpaper.forfun.com/fetch/60/604f6358cd0a4b83989516f724ed8bea.jpeg'},
  {name:'–¢—É–º–∞–Ω–Ω–æ—Å—Ç—å –û—Ä–∏–æ–Ω–∞',price:15000,url:'https://images.alphacoders.com/135/1354208.jpeg'},
  {name:'–õ–µ–¥—è–Ω–∞—è –ü–ª–∞–Ω–µ—Ç–∞',price:20000,url:'https://abrakadabra.fun/uploads/posts/2021-12/1640668539_5-abrakadabra-fun-p-oboi-na-rabochii-stol-planeta-6.png'},
  {name:'–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –û–∫–µ–∞–Ω',price:30000,url:'https://images.wallpapershq.com/wallpapers/1284/wallpaper_1284_3840x2160.jpg'},
  {name:'–ê–Ω–∏–º–µ –ü–µ–π–∑–∞–∂',price:40000,url:'https://sotni.ru/wp-content/uploads/2023/08/anime-peizazh-375.webp'},
  {name:'–ê–Ω–∏–º–µ –ó–∞–∫–∞—Ç',price:50000,url:'https://abrakadabra.fun/uploads/posts/2022-02/1643978194_2-abrakadabra-fun-p-fon-dlya-prevyu-anime-2.jpg'},
  {name:'–¢—ë–º–Ω—ã–π –õ–µ—Å',price:60000,url:'https://img2.akspic.ru/crops/1/1/7/7/97711/97711-les-chernyj_les-priroda-derevo-solnechnyj_svet-3840x2160.jpg'},
  {name:'–ó–≤—ë–∑–¥–Ω–∞—è –ù–æ—á—å',price:80000,url:'https://images.wallpaperscraft.com/image/single/night_stars_space_146031_3840x2160.jpg'},
  {name:'–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –¶–µ–Ω—Ç—Ä',price:100000,url:'https://images.wallpaperscraft.com/image/single/galaxy_stars_nebula_134936_3840x2160.jpg'}
];

// –ê–ß–ò–í–ö–ò
const achievements = [
  {
    id: 'first_click',
    name: '–ü–µ—Ä–≤—ã–π —à–∞–≥',
    desc: '–°–æ–≤–µ—Ä—à–∏—Ç–µ –ø–µ—Ä–≤—ã–π –∫–ª–∏–∫',
    icon: 'üë£',
    condition: () => totalClicks >= 1,
    reward: { energy: 200 },
    progress: () => Math.min(totalClicks, 1)
  },
  {
    id: 'click_100',
    name: '–°—Ç—Ä–µ–º–∏—Ç–µ–ª—å–Ω—ã–π',
    desc: '100 –∫–ª–∏–∫–æ–≤',
    icon: '‚ö°',
    condition: () => totalClicks >= 100,
    reward: { multiplier: 1.1 },
    progress: () => Math.min(totalClicks / 100, 1)
  },
  {
    id: 'click_1000',
    name: '–¢—ã—Å—è—á–Ω–∏–∫',
    desc: '1,000 –∫–ª–∏–∫–æ–≤',
    icon: 'üéØ',
    condition: () => totalClicks >= 1000,
    reward: { multiplier: 1.15 },
    progress: () => Math.min(totalClicks / 1000, 1)
  },
  {
    id: 'click_10000',
    name: '–ú–∞—Å—Ç–µ—Ä –∫–ª–∏–∫–∞',
    desc: '10,000 –∫–ª–∏–∫–æ–≤',
    icon: 'üëë',
    condition: () => totalClicks >= 10000,
    reward: { multiplier: 1.2 },
    progress: () => Math.min(totalClicks / 10000, 1)
  },
  {
    id: 'click_100k',
    name: '–õ–µ–≥–µ–Ω–¥–∞ –∫–ª–∏–∫–∞',
    desc: '100,000 –∫–ª–∏–∫–æ–≤',
    icon: 'üèÜ',
    condition: () => totalClicks >= 100000,
    reward: { multiplier: 1.3 },
    progress: () => Math.min(totalClicks / 100000, 1)
  },
  {
    id: 'energy_10k',
    name: '–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫',
    desc: '10,000 —ç–Ω–µ—Ä–≥–∏–∏',
    icon: '‚≠ê',
    condition: () => highestEnergy >= 10000,
    reward: { multiplier: 1.1 },
    progress: () => Math.min(highestEnergy / 10000, 1)
  },
  {
    id: 'energy_100k',
    name: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª',
    desc: '100,000 —ç–Ω–µ—Ä–≥–∏–∏',
    icon: 'üåüüåü',
    condition: () => highestEnergy >= 100000,
    reward: { multiplier: 1.15 },
    progress: () => Math.min(highestEnergy / 100000, 1)
  },
  {
    id: 'energy_1m',
    name: '–ú–∞–≥–Ω–∞—Ç',
    desc: '1,000,000 —ç–Ω–µ—Ä–≥–∏–∏',
    icon: 'üíé',
    condition: () => highestEnergy >= 1000000,
    reward: { multiplier: 1.25 },
    progress: () => Math.min(highestEnergy / 1000000, 1)
  },
  {
    id: 'time_1h',
    name: '–í–µ—Ç–µ—Ä–∞–Ω',
    desc: '1 —á–∞—Å –∏–≥—Ä—ã',
    icon: '‚è∞',
    condition: () => totalTimePlayed >= 3600,
    reward: { multiplier: 1.1 },
    progress: () => Math.min(totalTimePlayed / 3600, 1)
  },
  {
    id: 'skin_collector',
    name: '–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä',
    desc: '5 —Å–∫–∏–Ω–æ–≤',
    icon: 'üé®',
    condition: () => skinsPurchased >= 5,
    reward: { multiplier: 1.15 },
    progress: () => Math.min(skinsPurchased / 5, 1)
  },
  {
    id: 'rebirth_5',
    name: '–ü–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–µ—Ü',
    desc: '5 —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–µ–π',
    icon: 'üåÄ',
    condition: () => quantumGeneration >= 5,
    reward: { multiplier: 1.3 },
    progress: () => Math.min(quantumGeneration / 5, 1)
  },
  {
    id: 'auto_master',
    name: '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä',
    desc: '100,000 –∞–≤—Ç–æ-—ç–Ω–µ—Ä–≥–∏–∏',
    icon: 'ü§ñ',
    condition: () => totalAutoEarned >= 100000,
    reward: { multiplier: 1.15 },
    progress: () => Math.min(totalAutoEarned / 100000, 1)
  },
  {
    id: 'combo_master',
    name: '–ö–æ–º–±–æ-–º–∞—Å—Ç–µ—Ä',
    desc: '30 –∫–ª–∏–∫–æ–≤ –ø–æ–¥—Ä—è–¥',
    icon: 'üî•',
    condition: () => consecutiveClicks >= 30,
    reward: { multiplier: 1.2 },
    progress: () => Math.min(consecutiveClicks / 30, 1)
  },
  {
    id: 'upgrade_master',
    name: '–ê–ø–≥—Ä–µ–π–¥–µ—Ä',
    desc: '50 —É–ª—É—á—à–µ–Ω–∏–π',
    icon: 'üîß',
    condition: () => getTotalUpgrades() >= 50,
    reward: { multiplier: 1.25 },
    progress: () => Math.min(getTotalUpgrades() / 50, 1)
  },
  {
    id: 'background_master',
    name: '–•—É–¥–æ–∂–Ω–∏–∫',
    desc: '–í—Å–µ —Ñ–æ–Ω—ã',
    icon: 'üé≠',
    condition: () => backgroundsPurchased >= backgrounds.length,
    reward: { multiplier: 1.3 },
    progress: () => Math.min(backgroundsPurchased / backgrounds.length, 1)
  },
  {
    id: 'millionaire',
    name: '–ú–∏–ª–ª–∏–æ–Ω–µ—Ä',
    desc: '10,000,000 —ç–Ω–µ—Ä–≥–∏–∏',
    icon: 'üí∞',
    condition: () => stellarEnergy >= 10000000,
    reward: { multiplier: 1.5 },
    progress: () => Math.min(stellarEnergy / 10000000, 1)
  },
  {
    id: 'rebirth_10',
    name: '–ú–∞—Å—Ç–µ—Ä —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏',
    desc: '10 —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–µ–π',
    icon: 'üåå',
    condition: () => quantumGeneration >= 10,
    reward: { multiplier: 1.5 },
    progress: () => Math.min(quantumGeneration / 10, 1)
  },
  {
    id: 'energy_100m',
    name: '–ò–º–ø–µ—Ä–∞—Ç–æ—Ä —ç–Ω–µ—Ä–≥–∏–∏',
    desc: '100,000,000 —ç–Ω–µ—Ä–≥–∏–∏',
    icon: 'üëë',
    condition: () => highestEnergy >= 100000000,
    reward: { multiplier: 2.0 },
    progress: () => Math.min(highestEnergy / 100000000, 1)
  },
  {
    id: 'all_skins',
    name: '–í–ª–∞—Å—Ç–µ–ª–∏–Ω —Å–∫–∏–Ω–æ–≤',
    desc: '–í—Å–µ —Å–∫–∏–Ω—ã',
    icon: 'üëÅÔ∏è',
    condition: () => skinsPurchased >= skins.length,
    reward: { multiplier: 1.75 },
    progress: () => Math.min(skinsPurchased / skins.length, 1)
  },
  {
    id: 'click_1m',
    name: '–ú–∞—à–∏–Ω–∞ –¥–ª—è –∫–ª–∏–∫–æ–≤',
    desc: '1,000,000 –∫–ª–∏–∫–æ–≤',
    icon: 'ü§ñ',
    condition: () => totalClicks >= 1000000,
    reward: { multiplier: 1.5 },
    progress: () => Math.min(totalClicks / 1000000, 1)
  },
  {
    id: 'auto_god',
    name: '–ë–æ–≥ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏',
    desc: '1,000,000 –∞–≤—Ç–æ-—ç–Ω–µ—Ä–≥–∏–∏',
    icon: '‚öôÔ∏è',
    condition: () => totalAutoEarned >= 1000000,
    reward: { multiplier: 1.4 },
    progress: () => Math.min(totalAutoEarned / 1000000, 1)
  },
  {
    id: 'rebirth_25',
    name: '–î–µ–º–∏—É—Ä–≥',
    desc: '25 —Å–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç–µ–π',
    icon: '‚ú®',
    condition: () => quantumGeneration >= 25,
    reward: { multiplier: 2.5 },
    progress: () => Math.min(quantumGeneration / 25, 1)
  },
  {
    id: 'energy_1b',
    name: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —Ç–∏—Ç–∞–Ω',
    desc: '1,000,000,000 —ç–Ω–µ—Ä–≥–∏–∏',
    icon: 'üí´',
    condition: () => highestEnergy >= 1000000000,
    reward: { multiplier: 3.0 },
    progress: () => Math.min(highestEnergy / 1000000000, 1)
  },
  {
    id: 'perfect_combo',
    name: '–ò–¥–µ–∞–ª—å–Ω–æ–µ –∫–æ–º–±–æ',
    desc: '100 –∫–ª–∏–∫–æ–≤ –ø–æ–¥—Ä—è–¥',
    icon: 'üéØ',
    condition: () => consecutiveClicks >= 100,
    reward: { multiplier: 1.8 },
    progress: () => Math.min(consecutiveClicks / 100, 1)
  },
  {
    id: 'final_boss',
    name: '–ü–æ–≤–µ–ª–∏—Ç–µ–ª—å –í—Å–µ–ª–µ–Ω–Ω–æ–π',
    desc: '–í—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è',
    icon: '‚ö°',
    condition: () => unlockedAchievements.size >= achievements.length - 1,
    reward: { multiplier: 5.0 },
    progress: () => Math.min(unlockedAchievements.size / (achievements.length - 1), 1)
  }
];

let unlockedAchievements = new Set();
let achievementMultiplier = 1.0;

const ownedSkins = new Set();
const ownedBackgrounds = new Set();
const novaCore = document.getElementById('novaCore');

// === –§–£–ù–ö–¶–ò–ò ===
function formatNumber(num) {
  if (num >= 1000000000000) return (num / 1000000000000).toFixed(2) + 'T';
  if (num >= 1000000000) return (num / 1000000000).toFixed(2) + 'B';
  if (num >= 1000000) return (num / 1000000).toFixed(2) + 'M';
  if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
  return Math.floor(num).toString();
}

function getTotalUpgrades() {
  let total = 0;
  clickUpgrades.forEach(up => total += up.count);
  autoUpgrades.forEach(up => total += up.count);
  multiplierUpgrades.forEach(up => total += up.count);
  return total;
}

function createQuantumFlare(x, y, val, color = null) {
  const flare = document.createElement('div');
  flare.className = 'quantum-flare';
  flare.style.left = x + 'px';
  flare.style.top = y + 'px';
  flare.textContent = '+' + formatNumber(val);
  flare.style.color = color || (val > 10000 ? '#ff6b6b' : '#00b4ff');
  document.querySelector('.nova-core-area').appendChild(flare);
  setTimeout(() => flare.remove(), 1000);
}

// –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞—á–∏–≤–∫–∏
function showAchievementNotification(achievement) {
  const notification = document.createElement('div');
  notification.className = 'achievement-notification';
  notification.innerHTML = `
    <div style="font-size:24px; margin-bottom:5px;">${achievement.icon}</div>
    <div style="font-size:16px; margin-bottom:3px;">üèÜ ${achievement.name} üèÜ</div>
    <div style="font-size:12px;">${achievement.desc}</div>
  `;
  
  document.body.appendChild(notification);
  setTimeout(() => notification.remove(), 3000);
}

// –ö–ª–∏–∫ –ø–æ —è–¥—Ä—É
novaCore.onclick = (e) => {
  const rect = novaCore.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  
  const now = Date.now();
  if (now - lastClickTime < 1000) consecutiveClicks++;
  else consecutiveClicks = 1;
  lastClickTime = now;
  
  totalClicks++;
  const val = Math.floor(corePower * quantumMulti * singularityMulti * skinBonusMulti * achievementMultiplier);
  stellarEnergy += val;
  if (stellarEnergy > highestEnergy) highestEnergy = stellarEnergy;
  
  createQuantumFlare(x, y, val);
  updateInterface();
  checkAchievements();
  
  // –ó–≤—É–∫ –∫–ª–∏–∫–∞
  if (musicEnabled && audioContext) {
    try {
      const clickSound = audioContext.createOscillator();
      const clickGain = audioContext.createGain();
      clickSound.connect(clickGain);
      clickGain.connect(audioContext.destination);
      
      clickSound.frequency.setValueAtTime(440, audioContext.currentTime);
      clickSound.frequency.exponentialRampToValueAtTime(220, audioContext.currentTime + 0.1);
      clickGain.gain.setValueAtTime(0.1, audioContext.currentTime);
      clickGain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
      
      clickSound.start();
      clickSound.stop(audioContext.currentTime + 0.1);
    } catch (e) {}
  }
};

// –ê–≤—Ç–æ-—Å–±–æ—Ä
setInterval(() => {
  const earned = autoHarvest * quantumMulti * singularityMulti * skinBonusMulti * achievementMultiplier;
  stellarEnergy += earned;
  totalAutoEarned += earned;
  if (stellarEnergy > highestEnergy) highestEnergy = stellarEnergy;
  updateInterface();
}, 1000);

setInterval(() => {
  totalTimePlayed++;
  checkAchievements();
}, 1000);

function checkAchievements() {
  achievements.forEach(achievement => {
    if (!unlockedAchievements.has(achievement.id) && achievement.condition()) {
      unlockedAchievements.add(achievement.id);
      if (achievement.reward.energy) stellarEnergy += achievement.reward.energy;
      if (achievement.reward.multiplier) achievementMultiplier *= achievement.reward.multiplier;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      showAchievementNotification(achievement);
      
      updateAchievementsDisplay();
      updateInterface();
    }
  });
}

function updateAchievementsDisplay() {
  document.getElementById('achievementsUnlocked').textContent = `${unlockedAchievements.size}/${achievements.length}`;
  document.getElementById('achievementsBonus').textContent = `√ó${achievementMultiplier.toFixed(2)}`;
  document.getElementById('achievementsBonusDisplay').textContent = `√ó${achievementMultiplier.toFixed(2)}`;
  
  const grid = document.getElementById('achievementsGrid');
  grid.innerHTML = achievements.map(achievement => {
    const unlocked = unlockedAchievements.has(achievement.id);
    const progress = achievement.progress();
    return `
      <div class="achievement-card ${unlocked ? 'unlocked' : ''}">
        <div class="achievement-icon">${achievement.icon}</div>
        <div class="achievement-name">${achievement.name}</div>
        <div class="achievement-desc">${achievement.desc}</div>
        ${unlocked ? 
          `<div class="achievement-reward">–ù–∞–≥—Ä–∞–¥–∞: ${achievement.reward.multiplier ? '√ó' + achievement.reward.multiplier : formatNumber(achievement.reward.energy) + ' –≠–ù'}</div>` :
          `<div class="achievement-progress"><div class="achievement-progress-bar" style="width:${progress * 100}%"></div></div>`
        }
      </div>
    `;
  }).join('');
}

// –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–¥–æ–≤
function activateStellarCode() {
  const code = document.getElementById('stellarCode').value.trim();
  const message = document.getElementById('stellarMessage');
  
  if (code === 'XaR03' && !stellarCodeUsed) {
    corePower += 290000000;
    quantumMulti *= 940;
    autoHarvest += 190000;
    stellarCodeUsed = true;
    showMessage('–°–ï–ö–†–ï–¢–ù–´–ô –ö–û–î –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!', '#00ff00');
  } else if (code === 'free2026' && !localStorage.getItem('free2026_used')) {
    stellarEnergy += 15000000;
    singularityMulti *= 2;
    localStorage.setItem('free2026_used', 'true');
    showMessage('–ë–û–ù–£–°–ù–´–ô –ö–û–î –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!', '#00ff00');
  } else if (code === '1324' && !stellarCodeUsed) {
    corePower += 98453679;
    stellarCodeUsed = true;
    showMessage('–ë–ê–ó–û–í–´–ô –ö–û–î –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!', '#00b4ff');
  } else {
    showMessage('–ù–ï–í–ï–†–ù–´–ô –ò–õ–ò –£–ñ–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ù–´–ô –ö–û–î', '#ff6b6b');
  }
  
  updateInterface();
}

function showMessage(text, color) {
  const msg = document.getElementById('stellarMessage');
  msg.textContent = text;
  msg.style.color = color;
  msg.style.display = 'block';
  setTimeout(() => msg.style.display = 'none', 3000);
}

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª—è–º–∏
function openTab(id, btn) {
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  btn.classList.add('active');
}

function openShopTab(id, btn) {
  document.querySelectorAll('.shop-tab-content').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.shop-tab').forEach(t => t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  btn.classList.add('active');
}

function toggleStellarMenu() {
  document.getElementById('stellarMenu').classList.toggle('active');
  document.getElementById('quantumUpgrades').classList.remove('active');
  document.getElementById('achievementsPanel').classList.remove('active');
}

function toggleQuantumUpgrades() {
  document.getElementById('quantumUpgrades').classList.toggle('active');
  document.getElementById('stellarMenu').classList.remove('active');
  document.getElementById('achievementsPanel').classList.remove('active');
}

function toggleAchievements() {
  document.getElementById('achievementsPanel').classList.toggle('active');
  document.getElementById('stellarMenu').classList.remove('active');
  document.getElementById('quantumUpgrades').classList.remove('active');
  updateAchievementsDisplay();
}

// –†–µ–Ω–¥–µ—Ä —É–ª—É—á—à–µ–Ω–∏–π
function renderClickUpgrades() {
  const grid = document.getElementById('clickUpgradesGrid');
  grid.innerHTML = clickUpgrades.map(upgrade => {
    const price = Math.floor(upgrade.basePrice * Math.pow(1.7, upgrade.count));
    const affordable = stellarEnergy >= price;
    return `
      <button class="upgrade-btn" onclick="buyClickUpgrade('${upgrade.id}')" ${!affordable ? 'disabled' : ''}>
        <div class="upgrade-value">+${formatNumber(upgrade.power)}</div>
        <div class="upgrade-price">${formatNumber(price)} –≠–ù</div>
        <div class="upgrade-name">${upgrade.name}</div>
        ${upgrade.count > 0 ? `<div style="font-size:9px; color:#4caf50;">–£—Ä. ${upgrade.count + 1}</div>` : ''}
      </button>
    `;
  }).join('');
}

function buyClickUpgrade(id) {
  const upgrade = clickUpgrades.find(u => u.id === id);
  const price = Math.floor(upgrade.basePrice * Math.pow(1.7, upgrade.count));
  if (stellarEnergy >= price) {
    stellarEnergy -= price;
    corePower += upgrade.power;
    upgrade.count++;
    renderClickUpgrades();
    updateInterface();
  }
}

function renderAutoUpgrades() {
  const grid = document.getElementById('autoUpgradesGrid');
  grid.innerHTML = autoUpgrades.map(upgrade => {
    const price = Math.floor(upgrade.basePrice * Math.pow(1.6, upgrade.count));
    const affordable = stellarEnergy >= price;
    return `
      <button class="upgrade-btn" onclick="buyAutoUpgrade('${upgrade.id}')" ${!affordable ? 'disabled' : ''}>
        <div class="upgrade-value">+${formatNumber(upgrade.power)}/—Å</div>
        <div class="upgrade-price">${formatNumber(price)} –≠–ù</div>
        <div class="upgrade-name">${upgrade.name}</div>
        ${upgrade.count > 0 ? `<div style="font-size:9px; color:#4caf50;">–£—Ä. ${upgrade.count + 1}</div>` : ''}
      </button>
    `;
  }).join('');
}

function buyAutoUpgrade(id) {
  const upgrade = autoUpgrades.find(u => u.id === id);
  const price = Math.floor(upgrade.basePrice * Math.pow(1.6, upgrade.count));
  if (stellarEnergy >= price) {
    stellarEnergy -= price;
    autoHarvest += upgrade.power;
    upgrade.count++;
    renderAutoUpgrades();
    updateInterface();
  }
}

function renderMultipliers() {
  const grid = document.getElementById('multiplierGrid');
  grid.innerHTML = multiplierUpgrades.map(upgrade => {
    const price = Math.floor(upgrade.basePrice * Math.pow(2.2, upgrade.count));
    const affordable = stellarEnergy >= price;
    return `
      <button class="upgrade-btn" onclick="buyMultiplier('${upgrade.id}')" ${!affordable ? 'disabled' : ''}>
        <div class="upgrade-value">${upgrade.name.split(' ')[0]}</div>
        <div class="upgrade-price">${formatNumber(price)} –≠–ù</div>
        <div class="upgrade-name">${upgrade.name}</div>
        ${upgrade.count > 0 ? `<div style="font-size:9px; color:#ff9800;">–£—Ä. ${upgrade.count + 1}</div>` : ''}
      </button>
    `;
  }).join('');
}

function buyMultiplier(id) {
  const upgrade = multiplierUpgrades.find(u => u.id === id);
  const price = Math.floor(upgrade.basePrice * Math.pow(2.2, upgrade.count));
  if (stellarEnergy >= price) {
    stellarEnergy -= price;
    quantumMulti *= upgrade.value;
    upgrade.count++;
    renderMultipliers();
    updateInterface();
  }
}

// –†–µ–Ω–¥–µ—Ä –º–∞–≥–∞–∑–∏–Ω–∞
function renderSkins() {
  const grid = document.getElementById('skinsGrid');
  grid.innerHTML = skins.map(skin => {
    const owned = ownedSkins.has(skin.name);
    const affordable = stellarEnergy >= skin.price;
    return `
      <div class="skin-card" onclick="buySkin('${skin.name}', ${skin.price}, '${skin.url}')" style="cursor:${owned || affordable ? 'pointer' : 'not-allowed'}; opacity:${!owned && !affordable ? 0.6 : 1}">
        ${owned ? '<div class="skin-owned-badge">‚úì</div>' : ''}
        <img src="${skin.url}" alt="${skin.name}" class="skin-image" loading="lazy">
        <div class="skin-info">
          <div class="skin-name">${skin.name}</div>
          <div class="skin-price">${owned ? '–ö–£–ü–õ–ï–ù–û' : formatNumber(skin.price) + ' –≠–ù'}</div>
        </div>
      </div>
    `;
  }).join('');
}

function buySkin(name, price, url) {
  if (ownedSkins.has(name)) {
    novaCore.style.backgroundImage = `url(${url})`;
    return;
  }
  if (stellarEnergy >= price) {
    stellarEnergy -= price;
    ownedSkins.add(name);
    skinsPurchased++;
    novaCore.style.backgroundImage = `url(${url})`;
    skinBonusMulti = calculateSkinBonus();
    renderSkins();
    updateInterface();
    checkAchievements();
  }
}

function renderBackgrounds() {
  const grid = document.getElementById('backgroundsGrid');
  grid.innerHTML = backgrounds.map(bg => {
    const owned = ownedBackgrounds.has(bg.name);
    const affordable = stellarEnergy >= bg.price;
    return `
      <div class="skin-card" onclick="buyBackground('${bg.name}', ${bg.price}, '${bg.url}')" style="cursor:${owned || affordable ? 'pointer' : 'not-allowed'}; opacity:${!owned && !affordable ? 0.6 : 1}">
        ${owned ? '<div class="skin-owned-badge">‚úì</div>' : ''}
        <img src="${bg.url}" alt="${bg.name}" class="skin-image" loading="lazy">
        <div class="skin-info">
          <div class="skin-name">${bg.name}</div>
          <div class="skin-price">${owned ? '–ö–£–ü–õ–ï–ù–û' : formatNumber(bg.price) + ' –≠–ù'}</div>
        </div>
      </div>
    `;
  }).join('');
}

function buyBackground(name, price, url) {
  if (ownedBackgrounds.has(name)) {
    document.body.style.backgroundImage = `url(${url})`;
    return;
  }
  if (stellarEnergy >= price) {
    stellarEnergy -= price;
    ownedBackgrounds.add(name);
    backgroundsPurchased++;
    document.body.style.backgroundImage = `url(${url})`;
    renderBackgrounds();
    updateInterface();
    checkAchievements();
  }
}

function calculateSkinBonus() {
  const totalSkins = ownedSkins.size;
  if (totalSkins === 0) return 1;
  return 1 + (totalSkins * 0.05); // 5% –±–æ–Ω—É—Å –∑–∞ –∫–∞–∂–¥—ã–π —Å–∫–∏–Ω
}

// –°–∏–Ω–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å
function quantumSingularity() {
  if (stellarEnergy < rebirthCost) return;
  
  quantumGeneration++;
  rebirthCost = Math.floor(rebirthCost * rebirthIncrease);
  singularityMulti *= 2;
  
  stellarEnergy = 0;
  corePower = 1;
  autoHarvest = 0;
  quantumMulti = 1;
  
  clickUpgrades.forEach(up => up.count = 0);
  autoUpgrades.forEach(up => up.count = 0);
  multiplierUpgrades.forEach(up => up.count = 0);
  
  if (stellarCodeUsed) {
    corePower += 98453679;
  }
  
  skinBonusMulti = calculateSkinBonus();
  
  updateInterface();
  checkAchievements();
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
function updateInterface() {
  const totalMultiplier = quantumMulti * singularityMulti * skinBonusMulti * achievementMultiplier;
  
  document.getElementById('stellarEnergy').textContent = formatNumber(stellarEnergy);
  document.getElementById('energyDisplay').textContent = formatNumber(stellarEnergy);
  document.getElementById('corePower').textContent = formatNumber(corePower);
  document.getElementById('autoHarvest').textContent = formatNumber(autoHarvest) + '/—Å–µ–∫';
  document.getElementById('quantumMulti').textContent = '√ó' + quantumMulti.toFixed(1);
  document.getElementById('totalOutput').textContent = '√ó' + totalMultiplier.toFixed(1);
  
  document.getElementById('quantumGeneration').textContent = quantumGeneration;
  document.getElementById('singularityMulti').textContent = '√ó' + singularityMulti;
  
  const btn = document.getElementById('singularityBtn');
  btn.disabled = stellarEnergy < rebirthCost;
  btn.textContent = stellarEnergy >= rebirthCost ? 
    `–°–ò–ù–ì–£–õ–Ø–†–ù–û–°–¢–¨ (${formatNumber(rebirthCost)} –≠–ù)` : 
    `–ù–£–ñ–ù–û ${formatNumber(rebirthCost)} –≠–ù`;
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
function init() {
  renderClickUpgrades();
  renderAutoUpgrades();
  renderMultipliers();
  renderSkins();
  renderBackgrounds();
  updateInterface();
  updateAchievementsDisplay();
  initAudio();
}

// –ó–∞–ø—É—Å–∫
init();
</script>
</body>
</html>